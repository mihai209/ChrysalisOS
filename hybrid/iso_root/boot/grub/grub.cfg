# GRUB Configuration - Alpine + Chrysalis Hybrid
# Final boot configuration with Alpine modular support

insmod part_msdos
insmod ext2
insmod iso9660

set default=0
set timeout=10

menuentry "Chrysalis OS (Alpine Linux + Bash + Networking)" {
    echo "========================================="
    echo "  Chrysalis OS - GUI + Networking Edition"
    echo "========================================="
    echo "Kernel: Alpine Linux 6.6-virt"
    echo "Shell: Bash (with history, aliases)"
    echo "Network: curl, wget, net-tools"
    echo "GUI: Framework ready"
    echo ""
    echo "Loading..."
    
    # Load modules needed for ISO boot
    insmod iso9660
    insmod udf
    insmod loop
    
    linux /boot/vmlinuz root=/dev/sr0 rootfstype=iso9660 ro quiet
    initrd /boot/initramfs
}

menuentry "Chrysalis OS (Debug - Full Output)" {
    echo "Debug Mode - Full kernel output..."
    insmod iso9660
    insmod loop
    linux /boot/vmlinuz root=/dev/sr0 rootfstype=iso9660 ro loglevel=8
    initrd /boot/initramfs
}

menuentry "Alpine Linux Shell Only" {
    echo "Alpine Linux Emergency Shell..."
    insmod iso9660
    linux /boot/vmlinuz root=/dev/sr0 rootfstype=iso9660 ro
    initrd /boot/initramfs
}

menuentry "QEMU: Reboot" {
    reboot
}
